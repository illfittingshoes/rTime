<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"rTime.js.html":{"id":"rTime.js.html","title":"Source: rTime.js","body":" rTime JS Date Library Namespaces rTime~getrTime~getUTCrTime~getLocal Modules rTime Source: rTime.js /** * Create and interact with JS Date objects consistently and easily. rTime is * a static, low-level library that uses and returns standard JS Date objects. It has no state, * and there is no &quot;rTime&quot; type. You're dealing with the same old object, just via a less * ambiguous and confusing interface. Compared to vanilla Date, rTime: * Allows creating a new Date without manually specifying every field, * such as when only time of day matters. Accepts broader string formats. Provides additional * straightforward UTC &lt;-&gt; Local time zone helpers. Disambiguates some field names (but aliases in * original names to prevent frustration). Makes months one-based. Always returns UTC values * by default,and getting a field value in local time is always explicit. As a shortcut, rTime.ms() * may be used to return a Time Value (ms) number instead of a Date object. * Note: It may not seem necessary for some fields, like &quot;year&quot;, to have &quot;UTC&quot; and &quot;local&quot; * variations, but that starts to make a difference around December 31. * @module rTime */ // eslint doesn't like this complex set of acceptable params // eslint-disable valid-jsdoc /** * Entry point function accepts various forms of time information: Usual Date values - single * string describing full date/time; single number (Time Value); a series of numbers * for date/time fields; a key/value object with time field names and numeric values. Has * object properties &quot;get&quot;, &quot;getUTC&quot; (just an alias of &quot;get&quot;), and &quot;getLocal&quot; to group accessor * functions. Also has an &quot;ms()&quot; function property to return a Time Value instead of a Date object * * @param {(string|...number|...timeFieldHash)} * [timeArgs] * Any of several formats for desired time parameters * * @return {Date} new Date(), created using arguments. Will be &quot;Invalid Date&quot; object * if arguments don't eventually resolve to a real date * * @example * // all return the same as new Date() would * rTime(); * rTime({}); * rTime([]); * * @example * // both return the same as Date.now() * rTime.ms(); * rTime.get.timeValue(rTime()); * * @example * &lt;caption&gt;The following, when called in 2016 within the eastern time zone, * returns &quot;Date 2016-02-01T16:00:00.000Z&quot; (in Firefox. Chrome and Edge always * report the local conversion)&lt;/caption&gt; * // equivalent to new Date(2016, 1, 1, 11) * rTime({ * month: 2, * hour: 11 * }); */ // eslint-enable valid-jsdoc export default function rTime(...timeArgs) { const numberOfArgs = timeArgs.length; const firstArg = timeArgs[0]; const firstArgType = typeof firstArg; // exception to date alias approach: if the only argument is a number less // than 10,000 (arbitrary), treat it as a year rather than a time value (ms) if (numberOfArgs === 1 &amp;&amp; firstArgType === 'number' &amp;&amp; firstArg &lt; 10000) { return new Date(firstArg, 0); } // simplest version. will return invalid date object if doesn't conform to one // of these patterns: // - Time Value (ms since 1970 UTC) // - `new Date( YYYY, MM, DD, HH, MM, SS, MS )` // - null if (numberOfArgs &gt; 1 || firstArgType === 'number' || firstArg === null) { return new Date(...timeArgs); } // single valid arg - either an array of values to try as args, a field/value hash, // or string, possibly user input if (numberOfArgs === 1) { // allow an array, why not. Recurse. if (Array.isArray(firstArg)) { return rTime(...firstArg); } // date/time string - valid, or returns Invalid Date object if (firstArgType === 'string') { return new Date(firstArg); } } if (numberOfArgs &gt; 0 &amp;&amp; firstArgType === 'object') { // plain object (non-Array, non-Null, non-Date) is a field/value hash if (Object.keys(firstArg).length) { return makeTimeFromFields(...timeArgs); } } if (numberOfArgs === 0) { return new Date(); } // one weird arg (existing date object, bool, ?) return new Date('invalid'); } // eslint doesn't like this complex set of acceptable params // eslint-disable valid-jsdoc /** * Same as rTime(), but returns a Time Value rather than a Date * @function ms * @param {(string|...number|...timeFieldHash)} * [timeArgs] * Any of several formats for desired time parameters * @return {number} * Time Value (ms since 01/01/1970 UTC) */ // eslint-enable valid-jsdoc rTime.ms = function ms(...timeArgs) { return rTime.get.timeInMs( rTime(...timeArgs) ); }; /** * Object format to make new Date()s out of partial bits of information * @typedef {Object} timeFieldHash * @property {number} year four digits * @property {number} month 1-12 * @property {number} dayOfMonth 1-31 * @property {number} hour 0-23 * @property {number} minute 0-59 * @property {number} second 0-59 * @property {number} ms millisecond 0-999 * @property {boolean} isUTC new time should be in UTC rather than local */ /** * Generates new Date object with incomplete information. Follows one rule: From * longest to shortest (year -&gt; ms), use a fallback for unspecified fields. Until a field has been * specified, use the current time. Afterward, use either 0 (most fields) or 1 (month, dayOfMonth). * @protected * @param {...timeFieldHash} fieldHashes * One or more hashes of field names and values. Note &quot;day&quot;, * &quot;dayOfMonth&quot;, and &quot;ms&quot; fields rather than &quot;day&quot;, &quot;date&quot;, and &quot;milliseconds&quot;. The first two are * ambiguous, and &quot;ms&quot; is just much easier and a well-used abbreviation * * @throws Will throw if there are no objects passed (empty object(s) are okay - returns new Date()) * * @return {Date} new Date() created with values from all hashes. Will create in UTC time * (equivalent to new Date(Date.UTC())) one of the hashes includes: &quot;isUTC&quot;: true */ function makeTimeFromFields(...fieldHashes) { if (fieldHashes.length === 0) { throw new Error('making time from fields requires at least one fields object.' + 'This should never trigger, as it is only called internally.'); } const nowDate = new Date(); const allFields = fieldHashes .reduce((accumulator, hash) =&gt; { if (typeof hash === 'object' &amp;&amp; !Array.isArray(hash) &amp;&amp; hash !== null &amp;&amp; Object.keys(hash).length &gt; 0 ) { return Object.assign({}, accumulator, hash); } return accumulator; }, {}); if (Object.keys(allFields).length === 0) { return nowDate; } const { get } = rTime; const nowValues = { year: get.year(nowDate), month: get.month(nowDate), dayOfMonth: get.dayOfMonth(nowDate), hour: get.hour(nowDate), minute: get.minute(nowDate), second: get.second(nowDate), ms: get.ms(nowDate), }; function reduceFields({ prevDoUseMinVal, latestValues, defaults }, fieldName) { const newFieldVal = (allFields[fieldName] !== undefined) ? { [fieldName]: allFields[fieldName] } : {}; const doUseMinVal = (prevDoUseMinVal === true) ? true : !!Object.keys(newFieldVal).length; // work around JS treating days and months like they're zero-based const minFieldValue = (fieldName === 'month' || fieldName === 'dayOfMonth') ? 1 : 0; const fallbackValue = (doUseMinVal === true) ? { [fieldName]: minFieldValue } : { [fieldName]: defaults[fieldName] }; return { prevDoUseMinVal: doUseMinVal, latestValues: Object.assign({}, latestValues, fallbackValue, newFieldVal), defaults, }; } const fullValues = Object.keys(nowValues) .reduce(reduceFields, { prevDoUseMinVal: false, latestValues: {}, defaults: nowValues, }); const { year, month, dayOfMonth, hour, minute, second, ms, } = fullValues.latestValues; if (allFields.isUTC) { // convert month number to zero-based return new Date(Date.UTC(year, month - 1, dayOfMonth, hour, minute, second, ms)); } // convert month number to zero-based return new Date(year, month - 1, dayOfMonth, hour, minute, second, ms); } /** * Holds function properties for extracting individual values from a given date in UTC time. * All return values are retrieved using Date.prototype.getUTC[field](). Has an alias * called &quot;getUTC&quot; * @see rTime~getUTC * @namespace rTime~get * @type {object.&lt;function&gt;} * @example * // get the year of a given date * rTime.get.year(someDate) */ rTime.get = { /** * Get a given date as a Time Value: ms since 1970 began * @memberof! rTime~get * @param {Date} d Any Date object * @return {number} milliseconds since Unix epoch */ timeValue(d) { return d.getTime(); }, /** * Get the millenium of a given Date object * @memberof! rTime~get * @param {Date} d Date object initialized with a given date/time * @return {number} 1+ digit millenium */ millenium(d) { const year = d.getUTCFullYear(); // we consider the year 2000 to be the 21st century, not gonna argue const rawMillenia = (year + 1) / 1000; return Math.ceil(rawMillenia); }, /** * Get the century of a given Date object * @memberof! rTime~get * @param {Date} d Date object initialized with a given date/time * @return {number} 1+ digit century */ century(d) { const year = d.getUTCFullYear(); const rawCenturiesNextYear = (year + 1) / 100; const saneCenturyNextYear = Math.ceil(rawCenturiesNextYear); return saneCenturyNextYear; }, /** * Get the year of a given Date object * @memberof! rTime~get * @param {Date} d Date object initialized with a given date/time * @return {number} four digit year */ year(d) { return d.getUTCFullYear(); }, /** * Get the one-based month number of a given date. * Underlying Date object is zero-based for month, requiring simple conversion * @memberof! rTime~get * @param {Date} d Date object initialized with a given date/time * @return {number} 1-12 */ month(d) { return d.getUTCMonth() + 1; }, /** * Get the day of the month of a given Date object * @memberof! rTime~get * @param {Date} d Date object initialized with a given date/time * @return {number} 1-31 */ dayOfMonth(d) { return d.getUTCDate(); }, /** * Get the day of the week of a given Date object * @memberof! rTime~get * @param {Date} d Date object initialized with a given date/time * @return {number} 0-6 */ day(d) { return d.getUTCDay(); }, /** * Get the hour of a given Date object * @memberof! rTime~get * @param {Date} d Date object initialized with a given date/time * @return {number} 0-23 */ hour(d) { return d.getUTCHours(); }, /** * Get the minute of a given Date object * @memberof! rTime~get * @param {Date} d Date object initialized with a given date/time * @return {number} 0-59 */ minute(d) { return d.getUTCMinutes(); }, /** * Get the second of a given Date object * @memberof! rTime~get * @param {Date} d Date object initialized with a given date/time * @return {number} 0-59 */ second(d) { return d.getUTCSeconds(); }, /** * Get the millisecond (ms) of a given Date object * @memberof! rTime~get * @param {Date} d Date object initialized with a given date/time * @return {number} 0-999 */ ms(d) { return d.getUTCMilliseconds(); }, /* * Aliases */ /** * An alias of timeValue that is more immediately obvious * @memberof! rTime~get * @param {Date} d Date object initialized with a given date/time * @return {number} milliseconds since Unix epoch * @see rTime~get.timeValue */ timeInMs(d) { return this.timeValue(d); }, /** * An alias of timeValue to mirror the Date API * @memberof! rTime~get * @param {Date} d Date object initialized with a given date/time * @return {number} milliseconds since Unix epoch * @see rTime~get.timeValue */ time(d) { return this.timeValue(d); }, /** * An alias of year to mirror the Date API * @memberof! rTime~get * @param {Date} d Date object initialized with a given date/time * @return {number} four digit year * @see rTime~get.year */ fullYear(d) { return this.year(d); }, /** * An alias of dayOfMonth to mirror the Date API * @memberof! rTime~get * @param {Date} d Date object initialized with a given date/time * @return {number} 1-31 day number * @see rTime~get.dayOfMonth */ date(d) { return this.dayOfMonth(d); }, /** * An alias of day to match dayOfMonth naming * @memberof! rTime~get * @param {Date} d Date object initialized with a given date/time * @return {number} 0-6 */ dayOfWeek(d) { return this.day(d); }, /** * An alias of hour to mirror the Date API * @memberof! rTime~get * @param {Date} d Date object initialized with a given date/time * @return {number} 0-23 * @see rTime~get.hour */ hours(d) { return this.hour(d); }, /** * An alias of minute to mirror the Date API * @memberof! rTime~get * @param {Date} d Date object initialized with a given date/time * @return {number} 0-59 * @see rTime~get.minute */ minutes(d) { return this.minute(d); }, /** * An alias of second to mirror the Date API * @memberof! rTime~get * @param {Date} d Date object initialized with a given date/time * @return {number} 0-59 * @see rTime~get.second */ seconds(d) { return this.second(d); }, /** * An alias of ms to mirror the Date API * @memberof! rTime~get * @param {Date} d Date object initialized with a given date/time * @return {number} 0-999 * @see rTime~get.ms */ milliseconds(d) { return this.ms(d); }, /** * A longform alias of ms * @memberof! rTime~get * @param {Date} d Date object initialized with a given date/time * @return {number} 0-999 * @see rTime~get.ms */ millisecond(d) { return this.ms(d); }, /** * An alias of minutesToUTC to mirror the Date API * @memberof! rTime~get * @param {Date} d Date object initialized with a given date/time * @return {number} 0-59 minutes * @see rTime~get.minutesToUTC */ timezoneOffset(d) { return rTime.getLocal.minutesToUTC(d); }, }; /** * Alias of &quot;get&quot; * @namespace rTime~getUTC * @see rTime~get */ rTime.getUTC = rTime.get; /** * Holds function properties for extracting individual values from a given date in Local Time. * All return values are converted from UTC to in the user's current time zone, using the built-in * Date.prototype.get[field] function. * @namespace rTime~getLocal * @type {object.&lt;function&gt;} * @example * // get the year of a given date * rTime.getLocal.year(someDate) * * @example * // how many hours to add to convert a specified time from &quot;local&quot; to &quot;fixed&quot; * // (useful for showing the time a user originally entered regardless of time zone, by both * // storing the time in UTC and displaying in UTC) * rTime.getLocal.hoursToUTC(someDate) */ rTime.getLocal = { /** * Get a given date as a Time Value: ms since 1970 began, converted to local time * @memberof! rTime~getLocal * @param {Date} d Date object initialized with a given date/time * @return {number} milliseconds since Unix epoch (adusted to local) * @example * // rTime * rTime.getLocal.timeValue(d); * // vanilla * d.time() - (d.getTimezoneOffset() * 60 * 1000); */ timeValue(d) { return d.getTime() + this.msFromUTC(d); }, /** * Get the year of a given Date object according to local time * @memberof! rTime~getLocal * @param {Date} d Date object initialized with a given date/time * @return {number} four digit year */ year(d) { return d.getFullYear(); }, /** * Get the one-based month number of a given date according to local time. * Underlying Date object is zero-based for month, requiring simple conversion * @memberof! rTime~getLocal * @param {Date} d Date object initialized with a given date/time * @return {number} 1-12 */ month(d) { return d.getMonth() + 1; }, /** * Get the day of the month of a given Date object according to local time * @memberof! rTime~getLocal * @param {Date} d Date object initialized with a given date/time * @return {number} 1-31 */ dayOfMonth(d) { return d.getDate(); }, /** * Get the day of the week of a given Date object according to local time * @memberof! rTime~getLocal * @param {Date} d Date object initialized with a given date/time * @return {number} 0-6 */ day(d) { return d.getDay(); }, /** * Get the hour of a given Date object according to local time * @memberof! rTime~getLocal * @param {Date} d Date object initialized with a given date/time * @return {number} 0-23 */ hour(d) { return d.getHours(); }, /** * Get the number of milliseconds from the local timezone to UTC for a given Date object. * @memberof! rTime~getLocal * @param {Date} d Date object initialized with a given date/time * @return {number} 0-84,600,000 ms (0-23.5 hours), converted from minutes * * @example * // When called from Ohio, which is GMT-5, or GMT-4 during daylight savings * // (useful as ms with Time Values, converted to hours here to read) * rTime.get.msToUTC(rTime({&quot;month&quot;: 2})) / 1000 / 60 / 60; * // -&gt; 5 * rTime.get.msToUTC(rTime({&quot;month&quot;: 7})) / 1000 / 60 / 60; * // -&gt; 4 */ msToUTC(d) { return d.getTimezoneOffset() * 60 * 1000; }, /** * Get the number of minutes from the local timezone to UTC for a given Date object. * Useful for converting from local time to UTC. * @memberof! rTime~getLocal * @param {Date} d Date object initialized with a given date/time * @return {number} 0-1,410 minutes (0-23.5 hours) */ minutesToUTC(d) { return d.getTimezoneOffset(); }, /** * Get the number of hours from the local timezone to UTC for a given Date object. * Useful for converting from local time to UTC. * @memberof! rTime~getLocal * @param {Date} d Date object initialized with a given date/time * @return {number} 0-23.5 hours, converted from minutes */ hoursToUTC(d) { return d.getTimezoneOffset() / 60; }, /** * Get the number of milliseconds from UTC to the local timezone for a given Date object. * Useful for converting from UTC to local time. * @memberof! rTime~getLocal * @param {Date} d Date object initialized with a given date/time * @return {number} 0-84,600,000 ms (0-23.5 hours), converted from minutes */ msFromUTC(d) { return -d.getTimezoneOffset() * 60 * 1000; }, /** * Get the number of minutes from UTC to the local timezone for a given Date object. * Useful for converting from UTC to local time. * @memberof! rTime~getLocal * @param {Date} d Date object initialized with a given date/time * @return {number} 0-1,410 minutes (0-23.5 hours) */ minutesFromUTC(d) { return -d.getTimezoneOffset(); }, /** * Get the number of hours from UTC to the local timezone for a given Date object. * Useful for converting from UTC to local time. * @memberof! rTime~getLocal * @param {Date} d Date object initialized with a given date/time * @return {number} 0-23.5 hours, converted from minutes */ hoursFromUTC(d) { return -d.getTimezoneOffset() / 60; }, /* * Aliases */ /** * An alias of timeValue that is more immediately obvious * @memberof! rTime~getLocal * @param {Date} d Date object initialized with a given date/time * @return {number} milliseconds since Unix epoch * @see rTime~getLocal.timeValue */ timeInMs(d) { return this.timeValue(d); }, /** * An alias of timeValue to mirror the Date API * @memberof! rTime~getLocal * @param {Date} d Date object initialized with a given date/time * @return {number} milliseconds since Unix epoch * @see rTime~getLocal.timeValue */ time(d) { return this.timeValue(d); }, /** * An alias of year to mirror the Date API * @memberof! rTime~getLocal * @param {Date} d Date object initialized with a given date/time * @return {number} four digit year * @see rTime~getLocal.year */ fullYear(d) { return this.year(d); }, /** * An alias of day to match dayOfMonth naming * @memberof! rTime~getLocal * @param {Date} d Date object initialized with a given date/time * @return {number} 0-6 */ dayOfWeek(d) { return this.day(d); }, /** * An alias of dayOfMonth to mirror the Date API * @memberof! rTime~getLocal * @param {Date} d Date object initialized with a given date/time * @return {number} 1-31 day number * @see rTime~getLocal.dayOfMonth */ date(d) { return this.dayOfMonth(d); }, /** * An alias of hour to mirror the Date API * @memberof! rTime~getLocal * @param {Date} d Date object initialized with a given date/time * @return {number} 0-23 * @see rTime~getLocal.hour */ hours(d) { return this.hour(d); }, /** * An alias of minute to mirror the Date API * @memberof! rTime~getLocal * @param {Date} d Date object initialized with a given date/time * @return {number} 0-59 * @see rTime~getLocal.minute */ minutes(d) { return this.minute(d); }, /** * An alias of second to mirror the Date API * @memberof! rTime~getLocal * @param {Date} d Date object initialized with a given date/time * @return {number} 0-59 * @see rTime~getLocal.second */ seconds(d) { return this.second(d); }, /** * An alias of ms to mirror the Date API * @memberof! rTime~getLocal * @param {Date} d Date object initialized with a given date/time * @return {number} 0-999 * @see rTime~getLocal.ms */ milliseconds(d) { return this.ms(d); }, /** * A longform alias of ms * @memberof! rTime~getLocal * @param {Date} d Date object initialized with a given date/time * @return {number} 0-999 * @see rTime~getLocal.ms */ millisecond(d) { return this.ms(d); }, /** * An alias of minutesToUTC to mirror the Date API * @memberof! rTime~getLocal * @param {Date} d Date object initialized with a given date/time * @return {number} 0-59 minutes * @see rTime~get.minutesToUTC */ timezoneOffset(d) { return rTime.getLocal.minutesToUTC(d); }, }; × Search results Close "},"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" rTime JS Date Library Namespaces rTime~getrTime~getUTCrTime~getLocal Modules rTime Modules Namespaces get getUTC getLocal × Search results Close "},"namespaces.list.html":{"id":"namespaces.list.html","title":"Namespaces","body":" rTime JS Date Library Namespaces rTime~getrTime~getUTCrTime~getLocal Modules rTime Namespaces Namespaces get getUTC getLocal × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" rTime JS Date Library Namespaces rTime~getrTime~getUTCrTime~getLocal Modules rTime rTimeSometimes actions speak louder than words: Original rTime new Date(1435982400000); rTime(1435982400000); new Date(2012, 0); rTime(2012); new Date().getTime(); rTime.ms(); new Date(new Date().getFullYear(), 1, 1, 14); rTime({&quot;month&quot;: 2, &quot;hour&quot;: 14}); new Date().getFullYear(); rTime.getLocal.year(rTime()) new Date().getUTCHours(); rTime.get.hour(rTime()); new Date().getTimezoneOffset(); rTime.get.minutesToUTC(rTime()); From Examples (todo: link) DescriptionrTime is a static, relatively low-level library for creating and retrieving data from Date objects, dealing with the Dateoddities so we don't have to. It from the desire to prevent exasperated face-palms while working with the Date object and its many, many quirks: Months are zero-based Timezone insanity Date.prototype function name shenanigans Other tricky arcane nonsense For what I needed, a full-blown Moment-like solution would be like hammering in a finishing nail with a sledgehammer. I couldn't find anything that would stick to just helping me smooth over Date potholes, however, and I could not abide such wanton dependencies, so rTime was born. The name was picked because: it's short, &quot;time&quot; makes much more sense than &quot;date&quot;, &quot;r&quot; can stand for multiple desirable traits - right, regular, revised... and also because the first attempt at a name, &quot;Fixed And Relative Time,&quot; had a terrible acronym. Differences Between Date and rTimeMost differences are small fixes for the annoying, treacherous, or otherwise suboptimal: Date months are zero-based, so 1 === February in rTime, as in reality, month 1 === January The original Date naming is madness, so rTime makes some adjustments from their originals for consistency and/or accuracy. For familiarity, alias functions have been included using their original names No aliases work in time field objects Date# getTimezoneOffset() is backwards If you're in GMT-0400 (UTC minus 4 hours), Date will give you 240 instead of -240 rTime adds some clearer functions: rTime.getLocal.[ms/minutes/hours]ToUTC() rTime.getLocal.[ms/minutes/hours]FromUTC() rTime.[get/getLocal].timezoneOffset() is aliased (rTime.getLocal.minutesToUTC()) Call style is more functional than OOP One sweeping difference is in priorities. For both Date and rTime, all dates are stored as UTC, most often as a conversion from local time. Date prioritizes making the simple things easy most of the time, but that makes things difficult sometimes, such as relative date/time calculations or changing the nature of a date/time. rTime attempts to prioritize the latter by explicitly requiring the word &quot;local&quot; whenever a conversion from UTC to local time occurs. Here's a comparison: Intention Original rTime Retrieve a field in local time Date# get[FieldName]() rTime.getLocal.[fieldName](aDate) Retrieve a field in UTC (stored) time Date# getUTC[FieldName]() rTime.get.[fieldName](aDate) InstallationGet From NPMYes (todo) DownloadYes (todo: named links to dist, lib in repo) Formats ES6 Module CJS/Node Module AMD Module ES5 Script DependenciesNone APIJSDoc API documentation can be accessed one of three ways: The docs/JSDoc folder in the repo. It's always frustrating when library or tool projects don't include their generated files, so I'm including them all. Github Pages (todo) Clone the repo, npm i, then npm run build. todo: links UsagerTime is a better option than the Date API basically every time, but there are a smaller number of situations where it provides a critical advantage. Note: Unlike Moment, JQuery, the like, there is no such thing as &quot;an rTime object&quot; for function chaining: it's just plain old Date objects all the way down. Common Date UsageIn most scenarios, rTime's biggest benefit is removing foot guns: it's easier, less error-prone, provides the option of using time field objects. And because it's fashioned after Date, it's still pretty familiar. Advanced Date/Time ManipulationWorking with different relationships of date/times, which is theoretically fairly simple, is where rTime really comes into its own: Calculating relative times, like the distance between two date/times Converting a fixed time to a user-relative time, and vice-versa Fixed times, the default behavior of Date, don't change the actual point in time just because you change timezones; these are helpful for meetings, appointments, and other group events. A 9:00 AM phone call scheduled from New York will turn into a 6:00 AM call if you take the call in Los Angeles User-Relative Times that are always report the same time no matter where you go e.g. &quot;do [x] every day at 9:00 AM&quot; is always 9:00 AM whether in New York or LA Moment could easily handle these things. However, that is still overkill because it also does every other conceivable time-related thing, and therefore unnecessarily fat. Creating a DaterTime() and rTime.ms() accept anything new Date() can, but with a couple differences: Months are one-based, so as not to cause further needless suffering in the world A single-argument number less than 10,000 is a number that looks like a year, so rTime treats it like a year. rTime adds a month argument if the number looks like a year, for instance: rTime(1920) becomes new Date(1920, 0) rTime() and rTime.ms() can also: Accept a time field object(time-field-objects) Accept an array of any kind of arguments#### Time Field Naming rTime uses slightly different names for everything, because most of the names used by Date could use improvement. For familiarity, all the original names are aliased for every function. Time Field NamesrTime tries to be as consistent as possible, especially with function and field names. For familiarity, there are alias functions for each of the original Date-style names. Note: Time Field Objects do not support any aliases. Here is what rTime calls everything: Original rTime Additional Aliases Notes fullYear year Date# getYear() is completely excluded because it's totally vestigial month month rTime's month is always one-based date dayOfMonth &quot;date&quot; is ambiguous day day &quot;dayOfWeek&quot;, for consistency with &quot;dayOfMonth&quot; hours hour doesn't make any sense to pluralize any of the time values when you're referencing a single point in time minutes minute seconds second milliseconds ms &quot;millisecond&quot; maybe the long form would have been a more sensible default, but why type the whole thing out? For example, if you wish to retrieve the current day of the month, these both work: // preferred clear name rTime.getLocal.dayOfMonth(rTime()); // original ambiguous `Date` name rTime.getLocal.date(rTime());Time Field ObjectsSometimes clarity helps more than brevity. Either way, rTime has it covered. rTime allows for new date/times to be created by passing in a key/value object with any desired fields. They use the rTime standard field names and behaviors. Time Field Objects can have anywhere from zero fields (rTime({}) is the same as rTime()) to all of them, in any order, and can be &quot;sparsely&quot; populated. The format is simple; here is an example with one of everything: { &quot;year&quot;: 2011, &quot;month&quot;: 2, &quot;day&quot;: 13, &quot;hour&quot;: 14, &quot;minute&quot;: 15, &quot;second&quot;: 16, &quot;ms&quot;: 170 }Note: none of the function name aliases work as time field object property names. For example, {&quot;fullYear&quot;: 2012} will not work (should be just &quot;year&quot;), nor will {&quot;dayOfWeek&quot;: 2} (should be just &quot;day&quot;). Timezone Function ShenanigansDate has one explicit timezone function: Date# getTimezoneOffset(). It returns minutes, which is fine, but it's backwards: If you're in GMT-0400, it will return 240 (4 hours, but not negative like it should be). rTime.getLocal has several more straightforward functions: rTime.getLocal.[ms/minutes/hours]ToUTC() rTime.getLocal.[ms/minutes/hours]FromUTC() rTime.[get/getLocal].timezoneOffset() is also available, as an alias of rTime.getLocal.minutesToUTC() for familiarity. × Search results Close "},"module-rTime.html":{"id":"module-rTime.html","title":"Module: rTime","body":" rTime JS Date Library Namespaces rTime~getrTime~getUTCrTime~getLocal Modules rTime Module: rTime Create and interact with JS Date objects consistently and easily. rTime is a static, low-level library that uses and returns standard JS Date objects. It has no state, and there is no &quot;rTime&quot; type. You're dealing with the same old object, just via a less ambiguous and confusing interface. Compared to vanilla Date, rTime: Allows creating a new Date without manually specifying every field, such as when only time of day matters. Accepts broader string formats. Provides additional straightforward UTC Local time zone helpers. Disambiguates some field names (but aliases in original names to prevent frustration). Makes months one-based. Always returns UTC values by default,and getting a field value in local time is always explicit. As a shortcut, rTime.ms() may be used to return a Time Value (ms) number instead of a Date object. Note: It may not seem necessary for some fields, like &quot;year&quot;, to have &quot;UTC&quot; and &quot;local&quot; variations, but that starts to make a difference around December 31. (require(&quot;rTime&quot;))( [timeArgs]) Entry point function accepts various forms of time information: Usual Date values - single string describing full date/time; single number (Time Value); a series of numbers for date/time fields; a key/value object with time field names and numeric values. Has object properties &quot;get&quot;, &quot;getUTC&quot; (just an alias of &quot;get&quot;), and &quot;getLocal&quot; to group accessor functions. Also has an &quot;ms()&quot; function property to return a Time Value instead of a Date object Parameters: Name Type Argument Description timeArgs string | number | timeFieldHash &lt;optional&gt; Any of several formats for desired time parameters Source: rTime.js, line 55 Returns: new Date(), created using arguments. Will be &quot;Invalid Date&quot; object if arguments don't eventually resolve to a real date Type Date Examples // all return the same as new Date() would rTime(); rTime({}); rTime([]); // both return the same as Date.now() rTime.ms(); rTime.get.timeValue(rTime()); The following, when called in 2016 within the eastern time zone, returns &quot;Date 2016-02-01T16:00:00.000Z&quot; (in Firefox. Chrome and Edge always report the local conversion) // equivalent to new Date(2016, 1, 1, 11) rTime({ month: 2, hour: 11 }); Methods &lt;inner&gt; ms( [timeArgs]) Same as rTime(), but returns a Time Value rather than a Date Parameters: Name Type Argument Description timeArgs string | number | timeFieldHash &lt;optional&gt; Any of several formats for desired time parameters Source: rTime.js, line 110 Returns: Time Value (ms since 01/01/1970 UTC) Type number &lt;protected, inner&gt; makeTimeFromFields(fieldHashes) Generates new Date object with incomplete information. Follows one rule: From longest to shortest (year -&gt; ms), use a fallback for unspecified fields. Until a field has been specified, use the current time. Afterward, use either 0 (most fields) or 1 (month, dayOfMonth). Parameters: Name Type Argument Description fieldHashes timeFieldHash &lt;repeatable&gt; One or more hashes of field names and values. Note &quot;day&quot;, &quot;dayOfMonth&quot;, and &quot;ms&quot; fields rather than &quot;day&quot;, &quot;date&quot;, and &quot;milliseconds&quot;. The first two are ambiguous, and &quot;ms&quot; is just much easier and a well-used abbreviation Source: rTime.js, line 154 Throws: Will throw if there are no objects passed (empty object(s) are okay - returns new Date()) Returns: new Date() created with values from all hashes. Will create in UTC time (equivalent to new Date(Date.UTC())) one of the hashes includes: &quot;isUTC&quot;: true Type Date Type Definitions timeFieldHash Object format to make new Date()s out of partial bits of information Type: Object Properties: Name Type Description year number four digits month number 1-12 dayOfMonth number 1-31 hour number 0-23 minute number 0-59 second number 0-59 ms number millisecond 0-999 isUTC boolean new time should be in UTC rather than local Source: rTime.js, line 126 × Search results Close "},"rTime-get.html":{"id":"rTime-get.html","title":"Namespace: get","body":" rTime JS Date Library Namespaces rTime~getrTime~getUTCrTime~getLocal Modules rTime Namespace: get get Holds function properties for extracting individual values from a given date in UTC time. All return values are retrieved using Date.prototype.getUTC[field](). Has an alias called &quot;getUTC&quot; Source: rTime.js, line 239 See: rTime~getUTC Example // get the year of a given date rTime.get.year(someDate) Methods &lt;static&gt; timeValue(d) Get a given date as a Time Value: ms since 1970 began Parameters: Name Type Description d Date Any Date object Source: rTime.js, line 257 Returns: milliseconds since Unix epoch Type number &lt;static&gt; millenium(d) Get the millenium of a given Date object Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 267 Returns: 1+ digit millenium Type number &lt;static&gt; century(d) Get the century of a given Date object Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 282 Returns: 1+ digit century Type number &lt;static&gt; year(d) Get the year of a given Date object Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 296 Returns: four digit year Type number &lt;static&gt; month(d) Get the one-based month number of a given date. Underlying Date object is zero-based for month, requiring simple conversion Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 307 Returns: 1-12 Type number &lt;static&gt; dayOfMonth(d) Get the day of the month of a given Date object Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 317 Returns: 1-31 Type number &lt;static&gt; day(d) Get the day of the week of a given Date object Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 327 Returns: 0-6 Type number &lt;static&gt; hour(d) Get the hour of a given Date object Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 337 Returns: 0-23 Type number &lt;static&gt; minute(d) Get the minute of a given Date object Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 347 Returns: 0-59 Type number &lt;static&gt; second(d) Get the second of a given Date object Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 357 Returns: 0-59 Type number &lt;static&gt; ms(d) Get the millisecond (ms) of a given Date object Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 367 Returns: 0-999 Type number &lt;static&gt; timeInMs(d) An alias of timeValue that is more immediately obvious Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 382 See: rTime~get.timeValue Returns: milliseconds since Unix epoch Type number &lt;static&gt; time(d) An alias of timeValue to mirror the Date API Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 393 See: rTime~get.timeValue Returns: milliseconds since Unix epoch Type number &lt;static&gt; fullYear(d) An alias of year to mirror the Date API Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 404 See: rTime~get.year Returns: four digit year Type number &lt;static&gt; date(d) An alias of dayOfMonth to mirror the Date API Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 415 See: rTime~get.dayOfMonth Returns: 1-31 day number Type number &lt;static&gt; dayOfWeek(d) An alias of day to match dayOfMonth naming Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 425 Returns: 0-6 Type number &lt;static&gt; hours(d) An alias of hour to mirror the Date API Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 436 See: rTime~get.hour Returns: 0-23 Type number &lt;static&gt; minutes(d) An alias of minute to mirror the Date API Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 447 See: rTime~get.minute Returns: 0-59 Type number &lt;static&gt; seconds(d) An alias of second to mirror the Date API Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 458 See: rTime~get.second Returns: 0-59 Type number &lt;static&gt; milliseconds(d) An alias of ms to mirror the Date API Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 469 See: rTime~get.ms Returns: 0-999 Type number &lt;static&gt; millisecond(d) A longform alias of ms Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 480 See: rTime~get.ms Returns: 0-999 Type number &lt;static&gt; timezoneOffset(d) An alias of minutesToUTC to mirror the Date API Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 491 See: rTime~get.minutesToUTC Returns: 0-59 minutes Type number × Search results Close "},"rTime-getUTC.html":{"id":"rTime-getUTC.html","title":"Namespace: getUTC","body":" rTime JS Date Library Namespaces rTime~getrTime~getUTCrTime~getLocal Modules rTime Namespace: getUTC getUTC Alias of &quot;get&quot; Source: rTime.js, line 496 See: rTime~get × Search results Close "},"rTime-getLocal.html":{"id":"rTime-getLocal.html","title":"Namespace: getLocal","body":" rTime JS Date Library Namespaces rTime~getrTime~getUTCrTime~getLocal Modules rTime Namespace: getLocal getLocal Holds function properties for extracting individual values from a given date in Local Time. All return values are converted from UTC to in the user's current time zone, using the built-in Date.prototype.get[field] function. Source: rTime.js, line 503 Examples // get the year of a given date rTime.getLocal.year(someDate) // how many hours to add to convert a specified time from &quot;local&quot; to &quot;fixed&quot; // (useful for showing the time a user originally entered regardless of time zone, by both // storing the time in UTC and displaying in UTC) rTime.getLocal.hoursToUTC(someDate) Methods &lt;static&gt; timeValue(d) Get a given date as a Time Value: ms since 1970 began, converted to local time Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 531 Returns: milliseconds since Unix epoch (adusted to local) Type number Example // rTime rTime.getLocal.timeValue(d); // vanilla d.time() - (d.getTimezoneOffset() * 60 * 1000); &lt;static&gt; year(d) Get the year of a given Date object according to local time Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 541 Returns: four digit year Type number &lt;static&gt; month(d) Get the one-based month number of a given date according to local time. Underlying Date object is zero-based for month, requiring simple conversion Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 552 Returns: 1-12 Type number &lt;static&gt; dayOfMonth(d) Get the day of the month of a given Date object according to local time Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 562 Returns: 1-31 Type number &lt;static&gt; day(d) Get the day of the week of a given Date object according to local time Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 572 Returns: 0-6 Type number &lt;static&gt; hour(d) Get the hour of a given Date object according to local time Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 582 Returns: 0-23 Type number &lt;static&gt; msToUTC(d) Get the number of milliseconds from the local timezone to UTC for a given Date object. Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 600 Returns: 0-84,600,000 ms (0-23.5 hours), converted from minutes Type number Example // When called from Ohio, which is GMT-5, or GMT-4 during daylight savings // (useful as ms with Time Values, converted to hours here to read) rTime.get.msToUTC(rTime({&quot;month&quot;: 2})) / 1000 / 60 / 60; // -&gt; 5 rTime.get.msToUTC(rTime({&quot;month&quot;: 7})) / 1000 / 60 / 60; // -&gt; 4 &lt;static&gt; minutesToUTC(d) Get the number of minutes from the local timezone to UTC for a given Date object. Useful for converting from local time to UTC. Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 611 Returns: 0-1,410 minutes (0-23.5 hours) Type number &lt;static&gt; hoursToUTC(d) Get the number of hours from the local timezone to UTC for a given Date object. Useful for converting from local time to UTC. Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 622 Returns: 0-23.5 hours, converted from minutes Type number &lt;static&gt; msFromUTC(d) Get the number of milliseconds from UTC to the local timezone for a given Date object. Useful for converting from UTC to local time. Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 633 Returns: 0-84,600,000 ms (0-23.5 hours), converted from minutes Type number &lt;static&gt; minutesFromUTC(d) Get the number of minutes from UTC to the local timezone for a given Date object. Useful for converting from UTC to local time. Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 644 Returns: 0-1,410 minutes (0-23.5 hours) Type number &lt;static&gt; hoursFromUTC(d) Get the number of hours from UTC to the local timezone for a given Date object. Useful for converting from UTC to local time. Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 655 Returns: 0-23.5 hours, converted from minutes Type number &lt;static&gt; timeInMs(d) An alias of timeValue that is more immediately obvious Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 670 See: rTime~getLocal.timeValue Returns: milliseconds since Unix epoch Type number &lt;static&gt; time(d) An alias of timeValue to mirror the Date API Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 681 See: rTime~getLocal.timeValue Returns: milliseconds since Unix epoch Type number &lt;static&gt; fullYear(d) An alias of year to mirror the Date API Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 692 See: rTime~getLocal.year Returns: four digit year Type number &lt;static&gt; dayOfWeek(d) An alias of day to match dayOfMonth naming Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 702 Returns: 0-6 Type number &lt;static&gt; date(d) An alias of dayOfMonth to mirror the Date API Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 713 See: rTime~getLocal.dayOfMonth Returns: 1-31 day number Type number &lt;static&gt; hours(d) An alias of hour to mirror the Date API Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 724 See: rTime~getLocal.hour Returns: 0-23 Type number &lt;static&gt; minutes(d) An alias of minute to mirror the Date API Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 735 See: rTime~getLocal.minute Returns: 0-59 Type number &lt;static&gt; seconds(d) An alias of second to mirror the Date API Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 746 See: rTime~getLocal.second Returns: 0-59 Type number &lt;static&gt; milliseconds(d) An alias of ms to mirror the Date API Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 757 See: rTime~getLocal.ms Returns: 0-999 Type number &lt;static&gt; millisecond(d) A longform alias of ms Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 768 See: rTime~getLocal.ms Returns: 0-999 Type number &lt;static&gt; timezoneOffset(d) An alias of minutesToUTC to mirror the Date API Parameters: Name Type Description d Date Date object initialized with a given date/time Source: rTime.js, line 779 See: rTime~get.minutesToUTC Returns: 0-59 minutes Type number × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
